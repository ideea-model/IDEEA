<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Transmission network • IDEEA</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transmission network">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-1FN9MK20PS"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1FN9MK20PS');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IDEEA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.50.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/IDEEA.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/about.html">About</a></li>
    <li><a class="dropdown-item" href="../articles/help.html">Help</a></li>
    <li><a class="dropdown-item" href="../articles/install.html">Installation</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>IDEEA model components</h6></li>
    <li><a class="dropdown-item" href="../articles/regions.html">—Regions</a></li>
    <li><a class="dropdown-item" href="../articles/calendars.html">—Time</a></li>
    <li><a class="dropdown-item" href="../articles/data.html">—Datasets</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>IDEEA model sectors</h6></li>
    <li><a class="dropdown-item" href="../articles/energy.html">—Energy</a></li>
    <li><a class="dropdown-item" href="../articles/electricity.html">—Electricity</a></li>
    <li><a class="dropdown-item" href="../articles/transmission.html">—Transmission</a></li>
    <li><a class="dropdown-item" href="../articles/hydrogen.html">—Hydrogen</a></li>
    <li><a class="dropdown-item" href="../articles/ccus.html">—CCUS</a></li>
    <li><a class="dropdown-item" href="../articles/reports.html">—Reports</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Regional models</h6></li>
    <li><a class="dropdown-item" href="../articles/karnataka.html">—Karnataka</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Sectors in development</h6></li>
    <li><a class="dropdown-item" href="../articles/transport.html">—Transport</a></li>
    <li><a class="dropdown-item" href="../articles/buildings.html">—Buildings</a></li>
    <li><a class="dropdown-item" href="../articles/iron_steel.html">—Iron and Stell</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>—Refineries</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>—Cement and Clinker</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>IDEEA in Switch (in work)</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>IDEEA in PyPSA (planned)</h6></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ideea-model/IDEEA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Transmission network</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ideea-model/IDEEA/blob/HEAD/vignettes/articles/transmission.Rmd" class="external-link"><code>vignettes/articles/transmission.Rmd</code></a></small>
      <div class="d-none name"><code>transmission.Rmd</code></div>
    </div>

    
    
<p>This document describes the electricity transmission network data,
stored in the IDEEA repository. It includes the existing capacity,
aggregated to fit the for 5-region model case, and the information for
potential expansion of the network for both, 5-region and 32-region
model cases. The stored data on new transmission lines is estimated
based on the geographical distance between regions, average efficiency
and the cost of building new lines.</p>
<p>Modeling electricity transmission in capacity expansion models is
simplified by the use of a linearized nature of the models. Instead of
focusing on the physical laws of electricity transmission, the main
question in capacity expansion models is on potential of trade between
regions, if spatial balancing of electricity supply and demand can
reduce overall system costs, increase efficiency, and reduce emissions.
Every transmission line is a separate technology or process that can be
selected for investment and sized by the model along with other
technological options and their locations.</p>
<p>The transmission network is represented by a set of transmission
lines, each connecting two regions. The transmitted energy is limited by
the capacity of the line, which includes pre-built capacity and
potential new capacity (with optional constraint).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ideea-model.github.io/IDEEA">IDEEA</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://glue.tidyverse.org/" class="external-link">glue</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="region-model">5-region model<a class="anchor" aria-label="anchor" href="#region-model"></a>
</h3>
<details><summary>
code
</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regN</span> <span class="op">&lt;-</span> <span class="st">"reg5"</span></span>
<span></span>
<span><span class="va">ideea_r5_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ideea_map.html">get_ideea_map</a></span><span class="op">(</span>nreg <span class="op">=</span> <span class="fl">5</span>, islands <span class="op">=</span> <span class="cn">FALSE</span>, offshore <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">transmission_lines</span> <span class="op">&lt;-</span> <span class="va">ideea_data</span><span class="op">$</span><span class="va">transmission</span><span class="op">[[</span><span class="va">regN</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="co"># filter(region.x != region.y)</span></span>
<span>  <span class="co"># filter(case == transmission_matrix, !is.na(MW)) |&gt;</span></span>
<span>  <span class="co"># filter(MW &gt;= 0)</span></span>
<span></span>
<span><span class="va">gis_mainland_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ideea_r5_sf</span>, <span class="va">offshore</span> <span class="op">==</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="va">points_coord_r5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_centroid</a></span><span class="op">(</span><span class="va">gis_mainland_sf</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html" class="external-link">st_coordinates</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rspatial.github.io/terra/reference/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">gis_mainland_sf</span><span class="op">[[</span><span class="va">regN</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>lon <span class="op">=</span> <span class="va">X</span>, lat <span class="op">=</span> <span class="va">Y</span><span class="op">)</span></span>
<span></span>
<span><span class="va">network_r5</span> <span class="op">&lt;-</span> <span class="va">transmission_lines</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># filter(case == "current") |&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">points_coord_r5</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"region.x"</span> <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">points_coord_r5</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"region.y"</span> <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>GW <span class="op">=</span> <span class="va">MW</span> <span class="op">/</span> <span class="fl">1000</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># rough estimate of transmission lines distance between two nodes</span></span>
<span>    distance_km <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html" class="external-link">st_distance</a></span><span class="op">(</span></span>
<span>      <span class="co"># length in meters</span></span>
<span>      <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lon.x</span>, <span class="va">lat.x</span><span class="op">)</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lon.y</span>, <span class="va">lat.y</span><span class="op">)</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>    <span class="co"># adding 15% to the distance for landscape</span></span>
<span>    distance_km <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/math-generics.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">1.15</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">distance_km</span><span class="op">)</span> <span class="op">/</span> <span class="fl">1e3</span><span class="op">)</span>,</span>
<span>    AC_eff <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="va">distance_km</span> <span class="op">/</span> <span class="fl">1e3</span><span class="op">)</span>, <span class="co"># ~10% loss per 1000 km </span></span>
<span>    AC_invcost <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">distance_km</span>, <span class="co"># ~ 2 cr.INR/GW/km</span></span>
<span>    DC_eff <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.02</span> <span class="op">*</span> <span class="va">distance_km</span> <span class="op">/</span> <span class="fl">1e3</span><span class="op">)</span>, <span class="co"># ~2% loss per 1000 km</span></span>
<span>    DC_invcost <span class="op">=</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">distance_km</span> <span class="co"># ~ 4 cr.INR/GW/km + converters</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># add names for transmission lines</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    trd_name_ac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"HVAC"</span>, <span class="va">region.x</span>, <span class="va">region.y</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span>,</span>
<span>    trd_name_dc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"HVDC"</span>, <span class="va">region.x</span>, <span class="va">region.y</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create plot for each case</span></span>
<span><span class="va">plot_ntw_r5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ideea_r5_sf</span>, fill <span class="op">=</span> <span class="st">"wheat"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html" class="external-link">geom_segment</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">lon.x</span>, y <span class="op">=</span> <span class="va">lat.x</span>, xend <span class="op">=</span> <span class="va">lon.y</span>, yend <span class="op">=</span> <span class="va">lat.y</span>,</span>
<span>      linewidth <span class="op">=</span> <span class="va">GW</span></span>
<span>    <span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"dodgerblue"</span>, lineend <span class="op">=</span> <span class="st">"round"</span>,</span>
<span>    data <span class="op">=</span> <span class="va">network_r5</span></span>
<span>    <span class="co"># data = filter(a, case %in% transmission_matrix)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># geom_segment(aes(x = lon.x, y = lat.x, xend = lon.y, yend = lat.y),</span></span>
<span>  <span class="co">#   color = alpha("white", .5), lineend = "round",</span></span>
<span>  <span class="co">#   data = filter(a, case == "new")</span></span>
<span>  <span class="co"># ) +</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">case</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">points_coord_r5</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_ideea_map.html">theme_ideea_map</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><p><img src="transmission_files/figure-html/unnamed-chunk-3-1.png" width="2187.5"></p>
</div>
<div class="section level2">
<h2 id="region-model-1">32-region model<a class="anchor" aria-label="anchor" href="#region-model-1"></a>
</h2>
<p>The cost of building new lines is a function of the distance between
regions and the capacity of the line.</p>
<details><summary>
code
</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regN</span> <span class="op">&lt;-</span> <span class="st">"reg32"</span></span>
<span></span>
<span><span class="va">ideea_r32_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ideea_map.html">get_ideea_map</a></span><span class="op">(</span>nreg <span class="op">=</span> <span class="fl">32</span>, islands <span class="op">=</span> <span class="cn">FALSE</span>, offshore <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">transmission_lines</span> <span class="op">&lt;-</span> <span class="va">ideea_data</span><span class="op">$</span><span class="va">transmission</span><span class="op">[[</span><span class="va">regN</span><span class="op">]</span><span class="op">]</span> </span>
<span>  <span class="co"># filter(case == transmission_matrix, !is.na(MW)) |&gt;</span></span>
<span>  <span class="co"># filter(MW &gt;= 0)</span></span>
<span></span>
<span><span class="va">gis_mainland_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ideea_r32_sf</span>, <span class="va">offshore</span> <span class="op">==</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="va">points_coord_r32</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_centroid</a></span><span class="op">(</span><span class="va">gis_mainland_sf</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_coordinates.html" class="external-link">st_coordinates</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rspatial.github.io/terra/reference/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">gis_mainland_sf</span><span class="op">[[</span><span class="va">regN</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>lon <span class="op">=</span> <span class="va">X</span>, lat <span class="op">=</span> <span class="va">Y</span><span class="op">)</span></span>
<span></span>
<span><span class="va">network_r32</span> <span class="op">&lt;-</span> <span class="va">transmission_lines</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># filter(case == "current") |&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">points_coord_r32</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"region.x"</span> <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">points_coord_r32</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"region.y"</span> <span class="op">=</span> <span class="st">"region"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>GW <span class="op">=</span> <span class="va">MW</span> <span class="op">/</span> <span class="fl">1000</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># rough estimate of transmission lines distance between two nodes</span></span>
<span>    distance_km <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html" class="external-link">st_distance</a></span><span class="op">(</span></span>
<span>      <span class="co"># length in meters</span></span>
<span>      <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lon.x</span>, <span class="va">lat.x</span><span class="op">)</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lon.y</span>, <span class="va">lat.y</span><span class="op">)</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span>      <span class="op">)</span>,</span>
<span>    <span class="co"># adding 15% to the distance for landscape</span></span>
<span>    distance_km <span class="op">=</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/math-generics.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">1.15</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">distance_km</span><span class="op">)</span> <span class="op">/</span> <span class="fl">1e3</span><span class="op">)</span>,</span>
<span>    AC_eff <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="va">distance_km</span> <span class="op">/</span> <span class="fl">1e3</span><span class="op">)</span>, <span class="co"># ~10% loss per 1000 km </span></span>
<span>    AC_invcost <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">distance_km</span>, <span class="co"># ~ 2 cr.INR/GW/km</span></span>
<span>    DC_eff <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fl">0.02</span> <span class="op">*</span> <span class="va">distance_km</span> <span class="op">/</span> <span class="fl">1e3</span><span class="op">)</span>, <span class="co"># ~2% loss per 1000 km</span></span>
<span>    DC_invcost <span class="op">=</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">distance_km</span> <span class="co"># ~ 4 cr.INR/GW/km + converters</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># add names for transmission lines</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    trd_name_ac <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"HVAC"</span>, <span class="va">region.x</span>, <span class="va">region.y</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span>,</span>
<span>    trd_name_dc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"HVDC"</span>, <span class="va">region.x</span>, <span class="va">region.y</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create plot for each case</span></span>
<span><span class="va">plot_ntw_r32</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ideea_r32_sf</span>, fill <span class="op">=</span> <span class="st">"wheat"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html" class="external-link">geom_segment</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">lon.x</span>, y <span class="op">=</span> <span class="va">lat.x</span>, xend <span class="op">=</span> <span class="va">lon.y</span>, yend <span class="op">=</span> <span class="va">lat.y</span></span>
<span>      <span class="co"># linewidth = GW</span></span>
<span>    <span class="op">)</span>,</span>
<span>    linewidth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"dodgerblue"</span>, lineend <span class="op">=</span> <span class="st">"round"</span>,</span>
<span>    data <span class="op">=</span> <span class="va">network_r32</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">case</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">lon</span>, <span class="va">lat</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">points_coord_r32</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_ideea_map.html">theme_ideea_map</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><p><img src="transmission_files/figure-html/unnamed-chunk-5-1.png" width="2187.5"></p>
<div class="section level3">
<h3 id="minimal-network-case">Minimal network case<a class="anchor" aria-label="anchor" href="#minimal-network-case"></a>
</h3>
<details><summary>
code
</summary></details><p><img src="transmission_files/figure-html/unnamed-chunk-7-1.png" width="2187.5"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by IDEEA comunity.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
